Macro.add("tabs",{skipArgs:!1,tags:["tab","/tab"],handler:function(){const a=$("<div class='tabs-tabset'>"),b=$("<div class='tabs-tabs'>"),c=$("<div class='tabs-contents'>"),d=[],e=[];let f=0,g=0,h="";this.args[0]&&(h=this.args[0]+"-",a.attr("id",this.args[0]));for(var j=0,k=this.payload.length;j<k;++j)if("tab"==this.payload[j].name){let b=this.payload[j].args[0],c="tabs-contents-"+b.trim().toLowerCase().replace(/[^a-z0-9]/g,"").replace(/\s+/g,"-"),i=$(`<button id="${c}-control">${b}</button>`).ariaClick(function(){$(a).find(".tabs-tabs button").removeClass("selected"),$(a).find(".tabs-content").addClass("hidden"),$(a).find(`#${h}${c}`).removeClass("hidden"),$(this).addClass("selected")});d.push(i),e.push($(`<div class="tabs-content hidden" id="${h}${c}">`).wiki(this.payload[j].contents.trim())),this.payload[j].args[1]&&(g=f),f++}d[g].addClass("selected"),e[g].removeClass("hidden"),b.append(...d),c.append(...e),a.attr("style",`--cols:${f}`).append(b,c),$(this.output).append(a)}});